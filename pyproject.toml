[project]
name = "semiff"
version = "1.0.0"
description = "ç»Ÿä¸€è®¡ç®—ç©ºé—´æ™ºèƒ½ç¯å¢ƒæ¶æ„ï¼šWarp + gsplat + ProPainter + VoMP (xArm Edition)"
requires-python = ">=3.10,<3.14"
readme = "README.md"
license = { text = "MIT" }
dependencies = [
    # === æ ¸å¿ƒè®¡ç®—ä¸é…ç½® ===
    "numpy>=1.23.5,<2.0.0",
    "torch>=2.5.1",            # ä¹‹å‰çš„é…ç½®å·²å­˜åœ¨ï¼Œuv sync ä¼šç¡®ä¿å®ƒæ»¡è¶³æ­¤ç‰ˆæœ¬
    "torchvision>=0.20.1",
    "hydra-core>=1.3.2",       # ä¹‹å‰å»ºè®®è¡¥å…¨çš„ç¼ºå¤±ä¾èµ–
    "omegaconf>=2.3.0",        # ä¹‹å‰å»ºè®®è¡¥å…¨çš„ç¼ºå¤±ä¾èµ–
    "accelerate>=0.26.0",      # âœ… æ–°å¢ï¼šç”¨äºæ¨¡å‹åŠ é€Ÿ
    # === æ¨¡å‹ä¸AIåº“ ===
    # âœ… æ–°å¢ï¼šå¼ºåˆ¶æŒ‡å‘ GitHub æœ€æ–°ç‰ˆä»¥æ”¯æŒ SAM 3
    "transformers @ git+https://github.com/huggingface/transformers.git",
    "sam-2 @ git+https://github.com/facebookresearch/sam2.git",
    "timm>=0.6.13",
    "einops>=0.6.0",
    # === è§†é¢‘ä¸å›¾åƒå¤„ç† ===
    "av>=10.0.0",              # âœ… æ–°å¢ï¼šPyAV è§†é¢‘å¤„ç†åº“
    "opencv-python>=4.8.0",
    "matplotlib>=3.7.0",       # ä¹‹å‰å»ºè®®è¡¥å…¨çš„ä¾èµ–
    # === 3D ä¸ å‡ ä½• ===
    "pytorch-kinematics>=0.7.6",
    "trimesh[easy]>=4.0.0",
    "scipy>=1.10.0",
    "open3d>=0.17.0",
    # "nvdiffrast",            # æ³¨æ„ï¼šnvdiffrast é€šå¸¸éœ€è¦æ‰‹åŠ¨å®‰è£…æˆ–æŒ‡å®š git æº
    # === å·¥å…· ===
    "pandas>=1.5.0",
    "tqdm>=4.64.0",
    "roma>=1.5.4",
    "kernels>=0.11.7",
]

[build-system]
requires = ["hatchling"]
build-backend = "hatchling.build"

[tool.uv]
index-url = "https://download.pytorch.org/whl/cu121"
extra-index-url = ["https://pypi.org/simple"]
index-strategy = "unsafe-best-match"

# ğŸ”’ ç¯å¢ƒé”ï¼šLinux x86_64
environments = ["sys_platform == 'linux' and platform_machine == 'x86_64'"]

# ğŸ›‘ å…³é”®ä¿®å¤ï¼šå‘Šè¯‰ uv ä¸è¦è¯•å›¾æ„å»ºå½“å‰é¡¹ç›®æœ¬èº«
# è¿™æ · hatchling å°±ä¸ä¼šå»æ‰¾ semiff æ–‡ä»¶å¤¹äº†
package = false

[tool.hatch.metadata]
allow-direct-references = true

[tool.hatch.build.targets.wheel]
packages = ["src/semiff"]
